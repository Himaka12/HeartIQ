<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Disease Prediction</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400&display=swap" rel="stylesheet">

    <style>
        :root {
            --g50:  #f0fdf4;
            --g100: #dcfce7;
            --g200: #bbf7d0;
            --g300: #86efac;
            --g400: #4ade80;
            --g500: #22c55e;
            --g600: #16a34a;
            --g700: #15803d;
            --g800: #166534;
            --g900: #14532d;

            --bg:       #f8faf9;
            --white:    #ffffff;
            --border:   #e2e8e4;
            --border-g: #bbf7d0;

            --text-dark:  #0f1f14;
            --text-body:  #2d4a38;
            --text-soft:  #5a7a64;
            --text-muted: #8faa97;
            --text-hint:  #b5c9bc;

            --danger:     #ef4444;
            --danger-bg:  #fef2f2;
            --danger-b:   #fecaca;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background: var(--bg);
            font-family: 'Plus Jakarta Sans', sans-serif;
            color: var(--text-dark);
            min-height: 100vh;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           NAVBAR
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .navbar {
            background: var(--white);
            border-bottom: 1.5px solid var(--g200);
            padding: 0 32px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-logo {
            width: 34px; height: 34px;
            background: linear-gradient(135deg, var(--g500), var(--g700));
            border-radius: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            box-shadow: 0 2px 8px rgba(22,163,74,0.3);
        }

        .nav-title {
            font-weight: 800;
            font-size: 16px;
            color: var(--text-dark);
        }

        .nav-title span {
            color: var(--g600);
        }

        .nav-badge {
            background: var(--g100);
            color: var(--g700);
            font-size: 11px;
            font-weight: 700;
            padding: 3px 10px;
            border-radius: 100px;
            border: 1px solid var(--g200);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PAGE LAYOUT
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .page-wrap {
            max-width: 1080px;
            margin: 0 auto;
            padding: 36px 20px 64px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HERO HEADER
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .hero {
            background: linear-gradient(135deg, var(--g600) 0%, var(--g800) 100%);
            border-radius: 18px;
            padding: 36px 40px;
            margin-bottom: 28px;
            position: relative;
            overflow: hidden;
            color: white;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -40px; right: -40px;
            width: 200px; height: 200px;
            background: rgba(255,255,255,0.06);
            border-radius: 50%;
        }

        .hero::after {
            content: '';
            position: absolute;
            bottom: -60px; right: 60px;
            width: 280px; height: 280px;
            background: rgba(255,255,255,0.04);
            border-radius: 50%;
        }

        .hero-content { position: relative; z-index: 1; }

        .hero-eyebrow {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.25);
            border-radius: 100px;
            padding: 4px 13px;
            font-size: 11.5px;
            font-weight: 600;
            letter-spacing: 0.5px;
            color: rgba(255,255,255,0.9);
            margin-bottom: 14px;
        }

        .hero-dot {
            width: 6px; height: 6px;
            background: #86efac;
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(0.7); }
        }

        .hero h1 {
            font-size: clamp(22px, 4vw, 34px);
            font-weight: 800;
            color: #fff;
            margin-bottom: 8px;
            line-height: 1.2;
        }

        .hero p {
            font-size: 14px;
            color: rgba(255,255,255,0.75);
            font-weight: 400;
            max-width: 520px;
            line-height: 1.65;
        }

        .hero-stats {
            display: flex;
            gap: 28px;
            margin-top: 24px;
            flex-wrap: wrap;
        }

        .hero-stat {
            display: flex;
            flex-direction: column;
        }

        .hero-stat strong {
            font-size: 20px;
            font-weight: 800;
            color: #fff;
            line-height: 1;
        }

        .hero-stat small {
            font-size: 11px;
            color: rgba(255,255,255,0.6);
            margin-top: 3px;
            font-weight: 500;
        }

        .hero-divider {
            width: 1px;
            background: rgba(255,255,255,0.2);
            align-self: stretch;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           LAYOUT GRID
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .layout {
            display: grid;
            grid-template-columns: 1fr 280px;
            gap: 20px;
            align-items: start;
        }

        @media (max-width: 900px) {
            .layout { grid-template-columns: 1fr; }
            .sidebar { order: -1; }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SECTION CARDS
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .section-card {
            background: var(--white);
            border: 1.5px solid var(--border);
            border-radius: 14px;
            margin-bottom: 16px;
            overflow: hidden;
            transition: border-color 0.2s;
        }

        .section-card:focus-within {
            border-color: var(--g300);
        }

        .section-head {
            display: flex;
            align-items: center;
            gap: 13px;
            padding: 16px 22px;
            background: linear-gradient(to right, var(--g50), var(--white));
            border-bottom: 1.5px solid var(--g100);
        }

        .section-icon {
            width: 38px; height: 38px;
            background: linear-gradient(135deg, var(--g100), var(--g200));
            border: 1.5px solid var(--g200);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 17px;
            flex-shrink: 0;
        }

        .section-info h3 {
            font-size: 14px;
            font-weight: 700;
            color: var(--g800);
            margin-bottom: 1px;
        }

        .section-info p {
            font-size: 12px;
            color: var(--text-muted);
            font-weight: 400;
        }

        .section-count {
            margin-left: auto;
            background: var(--g100);
            color: var(--g700);
            font-size: 11px;
            font-weight: 700;
            padding: 2px 9px;
            border-radius: 100px;
        }

        .section-body {
            padding: 20px 22px 18px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FORM FIELDS
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .field-block {
            margin-bottom: 14px;
        }

        .field-block:last-child { margin-bottom: 0; }

        .field-label {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 6px;
        }

        .field-label span {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-body);
        }

        .field-unit {
            font-size: 11px;
            font-weight: 500;
            color: var(--g600);
            background: var(--g50);
            border: 1px solid var(--g100);
            padding: 1px 8px;
            border-radius: 100px;
        }

        .form-control,
        .form-select {
            width: 100%;
            background: var(--white) !important;
            border: 1.5px solid var(--border) !important;
            border-radius: 9px !important;
            color: var(--text-dark) !important;
            font-family: 'Plus Jakarta Sans', sans-serif !important;
            font-size: 14px !important;
            font-weight: 400 !important;
            padding: 10px 13px !important;
            transition: border-color 0.18s, box-shadow 0.18s !important;
        }

        .form-control::placeholder {
            color: var(--text-hint) !important;
            font-size: 13px !important;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: var(--g500) !important;
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.12) !important;
            outline: none !important;
        }

        .form-select option { background: #fff; color: var(--text-dark); }

        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; }
        input[type=number] { -moz-appearance: textfield; }

        .field-hint {
            font-size: 11.5px;
            color: var(--text-muted);
            margin-top: 4px;
            display: block;
            line-height: 1.5;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SUBMIT CARD
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .submit-card {
            background: var(--white);
            border: 1.5px solid var(--border);
            border-radius: 14px;
            padding: 22px;
            margin-bottom: 16px;
        }

        .btn-predict {
            width: 100%;
            background: linear-gradient(135deg, var(--g500), var(--g700));
            color: #fff;
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-size: 15px;
            font-weight: 700;
            padding: 14px 24px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 14px rgba(22, 163, 74, 0.3);
        }

        .btn-predict:hover {
            background: linear-gradient(135deg, var(--g600), var(--g800));
            box-shadow: 0 6px 20px rgba(22, 163, 74, 0.4);
            transform: translateY(-1px);
        }

        .btn-predict:active { transform: translateY(0); box-shadow: none; }

        .submit-note {
            font-size: 12px;
            color: var(--text-muted);
            text-align: center;
            margin-top: 10px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESULT BOX
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .result-card {
            border-radius: 14px;
            padding: 22px 24px;
            margin-bottom: 16px;
        }

        .result-label {
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
            margin-bottom: 7px;
        }

        .result-main {
            font-size: 20px;
            font-weight: 800;
            margin-bottom: 5px;
        }

        .probability-text {
            font-size: 13.5px;
            font-weight: 400;
        }

        .result-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 14px;
        }

        .rtag {
            font-size: 12px;
            font-weight: 600;
            padding: 4px 13px;
            border-radius: 100px;
        }

        /* High risk */
        .high-risk { background: var(--danger-bg); border: 1.5px solid var(--danger-b); }
        .high-risk .result-label { color: #b91c1c; }
        .high-risk .result-main  { color: var(--danger); }
        .high-risk .probability-text { color: #ef4444; opacity: 0.85; }
        .high-risk .rtag { background: #fee2e2; color: #b91c1c; }

        /* Low risk */
        .low-risk { background: var(--g50); border: 1.5px solid var(--g200); }
        .low-risk .result-label { color: var(--g700); }
        .low-risk .result-main  { color: var(--g700); }
        .low-risk .probability-text { color: var(--g600); opacity: 0.85; }
        .low-risk .rtag { background: var(--g100); color: var(--g700); }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SIDEBAR
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .sidebar { position: sticky; top: 80px; }

        .sidebar-card {
            background: var(--white);
            border: 1.5px solid var(--border);
            border-radius: 14px;
            overflow: hidden;
            margin-bottom: 16px;
        }

        .sidebar-head {
            background: linear-gradient(to right, var(--g50), var(--white));
            border-bottom: 1.5px solid var(--g100);
            padding: 14px 18px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sidebar-head h4 {
            font-size: 13px;
            font-weight: 700;
            color: var(--g800);
            margin: 0;
        }

        .sidebar-body { padding: 6px 0; }

        .ref-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 9px 18px;
            border-bottom: 1px solid #f0f4f1;
        }

        .ref-row:last-child { border-bottom: none; }

        .ref-key {
            font-size: 12px;
            color: var(--text-soft);
            font-weight: 500;
        }

        .ref-val {
            font-size: 12px;
            font-weight: 700;
            color: var(--g700);
            background: var(--g50);
            padding: 2px 9px;
            border-radius: 6px;
        }

        /* Tips card */
        .tip-card {
            background: linear-gradient(135deg, var(--g600), var(--g800));
            border-radius: 14px;
            padding: 20px;
            color: white;
        }

        .tip-card h4 {
            font-size: 13px;
            font-weight: 700;
            margin-bottom: 10px;
            color: #fff;
        }

        .tip-item {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            font-size: 12px;
            color: rgba(255,255,255,0.8);
            margin-bottom: 8px;
            line-height: 1.5;
        }

        .tip-item:last-child { margin-bottom: 0; }

        .tip-dot {
            width: 5px; height: 5px;
            background: var(--g300);
            border-radius: 50%;
            flex-shrink: 0;
            margin-top: 6px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PROGRESS STEPS
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .steps {
            display: flex;
            gap: 6px;
            margin-bottom: 20px;
            align-items: center;
        }

        .step {
            flex: 1;
            height: 4px;
            border-radius: 4px;
            background: var(--g200);
        }

        .step.active { background: var(--g500); }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FOOTER
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .page-footer {
            text-align: center;
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 8px;
        }

        .page-footer a { color: var(--g600); text-decoration: none; }

        @media (max-width: 576px) {
            .hero { padding: 26px 22px; }
            .section-body { padding: 16px 16px 14px; }
            .section-head { padding: 14px 16px; }
        }
    </style>
</head>
<body>

<!-- â”€â”€ NAVBAR â”€â”€ -->
<nav class="navbar">
    <div class="nav-brand">
        <div class="nav-logo">â™¥</div>
        <span class="nav-title">Heart<span>IQ</span></span>
    </div>
    <span class="nav-badge">AI Powered</span>
</nav>

<div class="page-wrap">

    <!-- â”€â”€ HERO HEADER â”€â”€ -->
    <div class="hero">
        <div class="hero-content">
            <div class="hero-eyebrow">
                <span class="hero-dot"></span>
                Model Active Â· Ready to Analyse
            </div>
            <h1>Heart Disease Risk Prediction</h1>
            <p>Fill in your health details across the four sections below. Our model analyses your biomarkers, lifestyle, and history to calculate your cardiac risk.</p>
            <div class="hero-stats">
                <div class="hero-stat">
                    <strong>4</strong>
                    <small>Health Sections</small>
                </div>
                <div class="hero-divider"></div>
                <div class="hero-stat">
                    <strong>AI</strong>
                    <small>Risk Model</small>
                </div>
                <div class="hero-divider"></div>
                <div class="hero-stat">
                    <strong>Fast</strong>
                    <small>Instant Result</small>
                </div>
            </div>
        </div>
    </div>

    <!-- â”€â”€ RESULT shown above form if present â”€â”€ -->
    {% if prediction_text %}
        {% if "High" in prediction_text or "high" in prediction_text %}
        <div class="result-card high-risk">
            <div class="result-label">âš  Assessment Result</div>
            <div class="result-main">{{ prediction_text }}</div>
            <div class="probability-text">{{ probability_text }}</div>
            <div class="result-tags">
                <span class="rtag">High Risk Detected</span>
                <span class="rtag">Please Consult a Doctor</span>
                <span class="rtag">AI Assessed</span>
            </div>
        </div>
        {% else %}
        <div class="result-card low-risk">
            <div class="result-label">âœ“ Assessment Result</div>
            <div class="result-main">{{ prediction_text }}</div>
            <div class="probability-text">{{ probability_text }}</div>
            <div class="result-tags">
                <span class="rtag">Low Risk</span>
                <span class="rtag">Within Normal Range</span>
                <span class="rtag">AI Assessed</span>
            </div>
        </div>
        {% endif %}
    {% endif %}

    <!-- â”€â”€ MAIN LAYOUT â”€â”€ -->
    <div class="layout">

        <!-- â”€â”€ FORM COLUMN â”€â”€ -->
        <div>
            <form action="/predict" method="POST">

            <!-- Progress bar decoration -->
            <div class="steps">
                <div class="step active"></div>
                <div class="step active"></div>
                <div class="step active"></div>
                <div class="step active"></div>
            </div>

            <!-- â”€â”€ SECTION 1: Physical Profile â”€â”€ -->
            <div class="section-card">
                <div class="section-head">
                    <div class="section-icon">ğŸ§</div>
                    <div class="section-info">
                        <h3>Physical Profile</h3>
                        <p>Body metrics and biometric data</p>
                    </div>
                    <span class="section-count">Step 1</span>
                </div>
                <div class="section-body">
                    <div class="row g-3">
                        {% for feature in features if feature in ['Age', 'Gender', 'BMI', 'Blood_Pressure'] %}
                        <div class="col-md-6 field-block">
                            <div class="field-label">
                                <span>{{ feature.replace('_', ' ') }}</span>
                                {% if feature == 'Age' %}<span class="field-unit">years</span>
                                {% elif feature == 'BMI' %}<span class="field-unit">kg/mÂ²</span>
                                {% elif feature == 'Blood_Pressure' %}<span class="field-unit">mmHg</span>
                                {% endif %}
                            </div>
                            {% if feature in cat_options %}
                                <select class="form-select" name="{{ feature }}" id="{{ feature }}" required>
                                    <option value="" disabled selected>Select {{ feature.replace('_', ' ') }}</option>
                                    {% for option in cat_options[feature] %}
                                        <option value="{{ option }}">{{ option }}</option>
                                    {% endfor %}
                                </select>
                            {% else %}
                                <input type="number" step="any" class="form-control"
                                    name="{{ feature }}" id="{{ feature }}"
                                    {% if feature == 'Age' %} placeholder="e.g. 45"
                                    {% elif feature == 'BMI' %} placeholder="e.g. 24.5"
                                    {% elif feature == 'Blood_Pressure' %} placeholder="e.g. 120"
                                    {% else %} placeholder="Enter value" {% endif %} required>
                                <span class="field-hint">
                                    {% if feature == 'Age' %}Normal range: 20 â€“ 90 years
                                    {% elif feature == 'BMI' %}Healthy: 18.5â€“24.9 Â· Overweight: 25â€“29.9
                                    {% elif feature == 'Blood_Pressure' %}Normal systolic: below 120 mmHg
                                    {% endif %}
                                </span>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- â”€â”€ SECTION 2: Blood & Lab Results â”€â”€ -->
            <div class="section-card">
                <div class="section-head">
                    <div class="section-icon">ğŸ§ª</div>
                    <div class="section-info">
                        <h3>Blood &amp; Lab Results</h3>
                        <p>Biochemical markers from your clinical test</p>
                    </div>
                    <span class="section-count">Step 2</span>
                </div>
                <div class="section-body">
                    <div class="row g-3">
                        {% for feature in features if feature in ['Cholesterol_Level', 'Fasting_Blood_Sugar', 'Homocysteine_Level', 'CRP_Level', 'Inflammation_Index'] %}
                        <div class="col-md-6 field-block">
                            <div class="field-label">
                                <span>{{ feature.replace('_', ' ') }}</span>
                                {% if feature == 'Cholesterol_Level' %}<span class="field-unit">mg/dL</span>
                                {% elif feature == 'Fasting_Blood_Sugar' %}<span class="field-unit">mg/dL</span>
                                {% elif feature == 'Homocysteine_Level' %}<span class="field-unit">Âµmol/L</span>
                                {% elif feature == 'CRP_Level' %}<span class="field-unit">mg/L</span>
                                {% endif %}
                            </div>
                            {% if feature in cat_options %}
                                <select class="form-select" name="{{ feature }}" id="{{ feature }}" required>
                                    <option value="" disabled selected>Select {{ feature.replace('_', ' ') }}</option>
                                    {% for option in cat_options[feature] %}
                                        <option value="{{ option }}">{{ option }}</option>
                                    {% endfor %}
                                </select>
                            {% else %}
                                <input type="number" step="any" class="form-control"
                                    name="{{ feature }}" id="{{ feature }}"
                                    {% if feature == 'Cholesterol_Level' %} placeholder="e.g. 180"
                                    {% elif feature == 'Fasting_Blood_Sugar' %} placeholder="e.g. 95"
                                    {% elif feature == 'Homocysteine_Level' %} placeholder="e.g. 10.0"
                                    {% elif feature == 'CRP_Level' %} placeholder="e.g. 2.0"
                                    {% elif feature == 'Inflammation_Index' %} placeholder="e.g. 1.5"
                                    {% else %} placeholder="Enter value" {% endif %} required>
                                <span class="field-hint">
                                    {% if feature == 'Cholesterol_Level' %}Desirable: below 200 mg/dL
                                    {% elif feature == 'Fasting_Blood_Sugar' %}Normal: 70â€“99 mg/dL
                                    {% elif feature == 'Homocysteine_Level' %}Normal: 5â€“15 Âµmol/L
                                    {% elif feature == 'CRP_Level' %}Low risk: &lt;1.0 Â· High risk: &gt;3.0 mg/L
                                    {% elif feature == 'Inflammation_Index' %}Elevated if above 2.0
                                    {% endif %}
                                </span>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- â”€â”€ SECTION 3: Lifestyle & Habits â”€â”€ -->
            <div class="section-card">
                <div class="section-head">
                    <div class="section-icon">ğŸŒ¿</div>
                    <div class="section-info">
                        <h3>Lifestyle &amp; Habits</h3>
                        <p>Daily behaviours that influence cardiac health</p>
                    </div>
                    <span class="section-count">Step 3</span>
                </div>
                <div class="section-body">
                    <div class="row g-3">
                        {% for feature in features if feature in ['Sleep_Hours', 'Smoking', 'Alcohol_Consumption', 'Physical_Activity', 'Exercise_Hours_Per_Week', 'Diet', 'Stress_Level'] %}
                        <div class="col-md-6 field-block">
                            <div class="field-label">
                                <span>{{ feature.replace('_', ' ') }}</span>
                                {% if feature == 'Sleep_Hours' %}<span class="field-unit">hrs/night</span>
                                {% elif feature == 'Exercise_Hours_Per_Week' %}<span class="field-unit">hrs/week</span>
                                {% elif feature == 'Stress_Level' %}<span class="field-unit">1â€“10 scale</span>
                                {% endif %}
                            </div>
                            {% if feature in cat_options %}
                                <select class="form-select" name="{{ feature }}" id="{{ feature }}" required>
                                    <option value="" disabled selected>Select {{ feature.replace('_', ' ') }}</option>
                                    {% for option in cat_options[feature] %}
                                        <option value="{{ option }}">{{ option }}</option>
                                    {% endfor %}
                                </select>
                            {% else %}
                                <input type="number" step="any" class="form-control"
                                    name="{{ feature }}" id="{{ feature }}"
                                    {% if feature == 'Sleep_Hours' %} placeholder="e.g. 7"
                                    {% elif feature == 'Exercise_Hours_Per_Week' %} placeholder="e.g. 3"
                                    {% elif feature == 'Stress_Level' %} placeholder="e.g. 4"
                                    {% else %} placeholder="Enter value" {% endif %} required>
                                <span class="field-hint">
                                    {% if feature == 'Sleep_Hours' %}Recommended: 7â€“9 hours per night
                                    {% elif feature == 'Exercise_Hours_Per_Week' %}WHO recommends at least 2.5 hrs/week
                                    {% elif feature == 'Stress_Level' %}1 = very low stress Â· 10 = extremely high
                                    {% endif %}
                                </span>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- â”€â”€ SECTION 4: Medical History â”€â”€ -->
            <div class="section-card">
                <div class="section-head">
                    <div class="section-icon">ğŸ“‹</div>
                    <div class="section-info">
                        <h3>Medical History</h3>
                        <p>Prior diagnoses, conditions &amp; family background</p>
                    </div>
                    <span class="section-count">Step 4</span>
                </div>
                <div class="section-body">
                    <div class="row g-3">
                        {% for feature in features if feature not in [
                            'Age','Gender','BMI','Blood_Pressure',
                            'Cholesterol_Level','Fasting_Blood_Sugar','Homocysteine_Level','CRP_Level','Inflammation_Index',
                            'Sleep_Hours','Smoking','Alcohol_Consumption','Physical_Activity','Exercise_Hours_Per_Week','Diet','Stress_Level'
                        ] %}
                        <div class="col-md-6 field-block">
                            <div class="field-label">
                                <span>{{ feature.replace('_', ' ') }}</span>
                            </div>
                            {% if feature in cat_options %}
                                <select class="form-select" name="{{ feature }}" id="{{ feature }}" required>
                                    <option value="" disabled selected>Select {{ feature.replace('_', ' ') }}</option>
                                    {% for option in cat_options[feature] %}
                                        <option value="{{ option }}">{{ option }}</option>
                                    {% endfor %}
                                </select>
                            {% else %}
                                <input type="number" step="any" class="form-control"
                                    name="{{ feature }}" id="{{ feature }}"
                                    placeholder="Enter a valid number" required>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- â”€â”€ SUBMIT â”€â”€ -->
            <div class="submit-card">
                <button type="submit" class="btn-predict">
                    â™¥ &nbsp; Analyse My Heart Risk
                </button>
                <p class="submit-note">Results are AI-generated and not a substitute for professional medical diagnosis.</p>
            </div>

            </form>
        </div>

        <!-- â”€â”€ SIDEBAR â”€â”€ -->
        <div class="sidebar">

            <!-- Reference ranges -->
            <div class="sidebar-card">
                <div class="sidebar-head">
                    <span>ğŸ“Š</span>
                    <h4>Reference Ranges</h4>
                </div>
                <div class="sidebar-body">
                    <div class="ref-row"><span class="ref-key">BMI (Normal)</span><span class="ref-val">18.5â€“24.9</span></div>
                    <div class="ref-row"><span class="ref-key">Blood Pressure</span><span class="ref-val">&lt; 120 mmHg</span></div>
                    <div class="ref-row"><span class="ref-key">Cholesterol</span><span class="ref-val">&lt; 200 mg/dL</span></div>
                    <div class="ref-row"><span class="ref-key">Fasting Sugar</span><span class="ref-val">70â€“99 mg/dL</span></div>
                    <div class="ref-row"><span class="ref-key">CRP (Low Risk)</span><span class="ref-val">&lt; 1.0 mg/L</span></div>
                    <div class="ref-row"><span class="ref-key">Homocysteine</span><span class="ref-val">5â€“15 Âµmol/L</span></div>
                    <div class="ref-row"><span class="ref-key">Sleep</span><span class="ref-val">7â€“9 hrs/night</span></div>
                    <div class="ref-row"><span class="ref-key">Exercise</span><span class="ref-val">â‰¥ 2.5 hrs/wk</span></div>
                    <div class="ref-row"><span class="ref-key">Stress Level</span><span class="ref-val">1 â†’ 10</span></div>
                    <div class="ref-row"><span class="ref-key">Inflammation</span><span class="ref-val">&lt; 2.0 normal</span></div>
                </div>
            </div>

            <!-- Tips -->
            <div class="tip-card">
                <h4>ğŸ’¡ Healthy Heart Tips</h4>
                <div class="tip-item"><span class="tip-dot"></span>Keep BMI between 18.5 and 24.9 for optimal heart health.</div>
                <div class="tip-item"><span class="tip-dot"></span>Exercise at least 150 minutes per week at moderate intensity.</div>
                <div class="tip-item"><span class="tip-dot"></span>Aim for 7â€“9 hours of quality sleep every night.</div>
                <div class="tip-item"><span class="tip-dot"></span>Maintain cholesterol below 200 mg/dL through a balanced diet.</div>
                <div class="tip-item"><span class="tip-dot"></span>Always consult a physician for a full cardiac evaluation.</div>
            </div>

        </div><!-- /sidebar -->

    </div><!-- /layout -->

    <p class="page-footer">Not a substitute for professional medical advice &nbsp;Â·&nbsp; Always consult a licensed physician</p>

</div><!-- /page-wrap -->

</body>
</html>